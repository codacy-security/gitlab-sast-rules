stages:
  - test

# make sure the rules adhere to our quality guidelines
yamllint-quality:
  image: python:2.7
  stage: test 
  before_script:
    - pip install yamllint
  script:
    - yamllint .

rulecheck-quality:
  stage: test 
  image: ruby:3-alpine
  before_script:
    - apk add --no-cache yaml-dev alpine-sdk
    - gem install psych yaml fileutils
  script:
    - ./ci/quality.rb

# make sure that every rule has an associated test-case
rulecheck-availability:
  stage: test 
  image: ruby:3-alpine
  before_script:
    - apk add --no-cache yaml-dev alpine-sdk
    - gem install psych yaml fileutils
  script:
    - ./ci/availability.rb

